# 更新日志

## [1.1.7] - 2025-10-22

### 🔄 重新发布
- 重新编译和打包扩展
- 确保所有依赖项正确包含
- 优化扩展启动性能
- 修复可能的缓存问题

### 🔧 技术改进
- 更新MCP服务

## [1.1.6] - 2025-10-21

### 🔧 技术改进
- 优化脚本导出的交互及界面
- 更新MCP服务

## [1.1.5] - 2025-10-21

### 🐛 错误修复
- 修改MCP服务问题


## [1.1.4] - 2025-10-20

### 🐛 错误修复
- 修复单根工作区环境下插件功能异常的问题

### 🔧 技术改进
- 更新界面优化

## [1.1.3] - 2025-10-20

### ✨ 新增功能
- **导出补丁功能优化**
  - 简化补丁导出配置界面，移除"补丁类型"、"目标版本"、"基础版本"和"包含文件类型"等复杂配置项
  - 优化补丁导出流程，仅保留核心导出能力，提升用户体验
  - 支持右键单个Java文件导出补丁（此前仅支持文件夹）
  - 导出补丁时自动解析Java文件对应的class文件路径，根据项目根目录下的.classpath文件中<output>配置项指定的输出路径进行解析

- **补丁管理功能增强**
  - 新增多模块工程创建功能，支持在YonBIP项目管理右键菜单中创建多模块项目
  - 优化补丁应用和取消功能，支持对选中的文件或目录进行一键补丁操作

### 🔧 技术改进
- **界面优化**
  - 优化右键菜单触发条件，支持在选择单个文件或文件夹时均显示相关命令
  - 改进YonBIP项目管理菜单显示顺序，按功能重要性重新排列命令位置

- **路径解析优化**
  - 优化Java项目编译后class文件路径解析逻辑，不再简单通过替换.java后缀为.class来确定
  - 增强对不同项目结构的兼容性，支持src/public、src/private、src/client等多种源码目录结构

- **依赖管理**
  - 添加adm-zip库依赖，用于生成ZIP格式的补丁文件

### 🐛 错误修复
- 修复了补丁导出时编译文件路径计算不准确的问题
- 修复了右键菜单在某些情况下显示不正确的问题

## [1.1.2] - 2025-10-19

### ✨ 新增功能
- **MCP界面优化**
  - 改进MCP服务管理界面交互体验
  - 优化MCP服务状态显示逻辑

- **预置脚本导出界面优化**
  - 改进预置脚本导出界面布局
  - 优化用户操作流程

### 🔧 技术改进
- **NC HOME配置界面优化**
  - 修复界面显示问题
  - 改进模块配置管理功能
  - 添加模块搜索支持功能

- **逻辑优化**
  - 优化内部服务调用逻辑
  - 改进配置加载机制

## [1.1.1] - 2025-10-17

### ✨ 新增功能
- **一键打补丁功能**
  - 新增 `🩹 打补丁到HOME` 右键菜单命令
  - 新增 `↩️ 从HOME取消补丁` 右键菜单命令
  - 支持对补丁文件进行一键部署和撤销操作
  - 自动处理补丁文件中的 replacement 目录结构

- **模块选择功能**
  - 新增NC HOME模块配置管理功能
  - 支持在NC HOME配置界面中选择需要加载的模块
  - 提供模块配置的保存和加载机制
  - 支持必选模块的自动勾选和保护
  - 优化了模块类路径的加载逻辑，仅加载用户选择的模块

- **MCP服务数据源信息显示**
  - MCP服务启动后自动显示design数据源连接信息
  - 支持多种数据库类型（MySQL、Oracle、SQL Server、PostgreSQL等）
  - 自动从NC HOME配置中读取design数据源信息

### 🔧 技术改进
- **界面样式优化**
  - 优化了YonBIP项目管理菜单显示名称为"YonBIP项目管理（高级版）"
  - 改进了补丁导出界面的按钮布局和样式
  - 优化了补丁导出界面的底部按钮固定显示效果

- **端口占用检测优化**
  - 改进了端口占用检测逻辑，提高检测准确性
  - 优化了端口冲突处理机制

- **数据源信息注入**
  - MCP服务启动时自动注入design数据源配置
  - 支持从NC HOME配置文件中读取数据源信息
  - 自动生成对应数据库类型的JDBC URL和驱动类

### 🐛 错误修复
- 修复了端口占用检测逻辑，提高检测准确性
- 修复了webapps目录重复加载的问题
- 修复了模块路径加载不准确的问题

## [1.1.0] - 2025-10-15

### ✨ 新增功能
- **模块选择功能**
  - 新增NC HOME模块配置管理功能
  - 支持在NC HOME配置界面中选择需要加载的模块
  - 提供模块配置的保存和加载机制
  - 支持必选模块的自动勾选和保护

### 🔧 技术改进
- **类路径优化**
  - 优化了模块类路径的加载逻辑，仅加载用户选择的模块
  - 改进了模块lib目录和classes目录的扫描机制
  - 增强了模块配置的持久化存储功能

### 🐛 错误修复
- 修复了webapps目录重复加载的问题
- 修复了模块路径加载不准确的问题

## [1.0.14] - 2025-10-15

### ✨ 新增功能
- **复制资源文件到HOME功能**
  - 新增 `📁 → 🏠 复制配置文件到HOME` 右键菜单命令
  - 支持将项目配置文件复制到NC HOME目录
  - 提供直观的文件复制进度和结果反馈

- **自动访问HOTWEBS资源功能**
  - 新增 `🌐 自动访问HOTWEBS资源` 右键菜单命令
  - 自动配置脚手架项目的webpack.dev.config.js文件
  - 支持将资源访问路径指向NC HOME的hotwebs目录

### 🔧 技术改进
- **界面样式优化**
  - 优化了YonBIP项目管理菜单显示名称为"YonBIP项目管理（高级版）"
  - 改进了补丁导出界面的按钮布局和样式
  - 优化了补丁导出界面的底部按钮固定显示效果

- **补丁导出功能优化**
  - 优化了导出补丁时的提示信息显示
  - 增强了编译文件未找到时的错误提示，提供详细的解决方案
  - 改进了补丁导出过程中的加载状态显示

### 🐛 错误修复
- 修复了补丁导出时编译文件路径计算不准确的问题
- 修复了界面消息显示不一致的问题

## [1.0.12] - 2025-10-15

### 🔄 重新发布
- 重新编译和打包扩展
- 确保所有依赖项正确包含
- 优化扩展启动性能
- 修复可能的缓存问题

### 🛠️ 技术优化
- 更新了构建脚本
- 优化了资源文件包含策略
- 改进了错误处理机制
- 提升了整体稳定性

## [1.0.11] - 2025-10-15

### ✨ 新增功能
- **数据库连接进度条**
  - 在测试数据库连接时显示进度条提示
  - 提供更直观的连接状态反馈

### 🔧 技术改进
- **多根工作区适配**
  - 优化了在多根工作区环境下的配置管理
  - 改进了跨平台的VS Code用户设置路径处理
  - 增强了配置文件生成的兼容性

- **Windows解密功能适配**
  - 优化了Windows平台下的密码解密功能
  - 统一处理不同操作系统的换行符问题
  - 改进了密码加解密结果的解析逻辑

### 🐛 错误修复
- 修复了Windows平台上密码解密结果解析不正确的问题

## [1.0.8] - 2025-10-14

### ✨ 新增功能
- **创建模块项目后自动创建业务组件**
  - 在模块项目创建完成后，自动提示用户是否创建业务组件
  - 支持一键创建业务组件，提升开发效率

### 🔧 技术改进
- **自动访问HOTWEBS资源功能**
  - 新增自动访问HOTWEBS资源的右键菜单命令
  - 支持自动配置脚手架项目的资源访问路径

## [1.0.6] - 2025-10-04

### ✨ 新增功能
- **一键添加源码路径功能**
  - 新增 `📜 全部加入源码路径` 右键菜单命令
  - 自动扫描项目中的 src/client、src/public、src/private 目录
  - 自动将找到的源码路径添加到 .classpath 文件中
  - 避免重复添加已存在的源码路径

### 🔧 技术改进
- **工作区图标优化**
  - 优化了已初始化YonBIP项目的目录图标显示
  - 使用更稳定的装饰器配置，避免与VS Code问题检测冲突
  - 改进了图标刷新机制，提高显示稳定性
  - 增强了装饰器提供者的初始化和清理逻辑

- **补丁导出优化**
  - 改进了项目编译检查逻辑，支持递归查找所有包含src目录的子项目
  - 优化了编译后class文件路径的获取逻辑
  - 提升了补丁导出时文件路径处理的准确性

### 🐛 错误修复
- 修复了项目装饰器在某些情况下显示不正确的问题
- 修复了补丁导出时class文件路径计算不准确的问题
- 修复了装饰器提供者在扩展关闭时的资源清理问题

## [1.0.5] - 2025-09-22

### ✨ 新增功能
- **调试端口可配置化**
  - 新增调试端口配置选项，支持自定义JDWP调试端口
  - 在NC Home配置界面的高级设置中添加调试模式和调试端口配置
  - 支持通过VS Code设置`yonbip.home.debugPort`配置调试端口
  - 默认调试端口保持为8888，用户可根据需要自定义
  - VS Code调试器连接端口与Java应用监听端口保持一致

### 🔧 技术改进
- 优化了调试配置的生成逻辑，确保端口配置的一致性
- 改进了配置加载机制，确保缺失字段能使用默认值
- 增强了配置合并逻辑，避免因配置文件不完整导致功能异常

### 📝 文档更新
- 更新了调试配置相关说明
- 完善了配置管理文档

## [1.0.4] - 2025-09-16

### 🐛 错误修复
- **HOME服务启动优化**
  - 修复了resources/conf目录未被正确添加到类路径的问题
  - 确保登录时能正确加载resources/conf下的配置文件
  - 与IDEA插件保持一致的类路径构建策略
  - 采用保守策略，仅添加必要的resources和conf目录，避免类加载冲突
  - 在jar包加载完成后添加resources目录，确保类加载顺序正确

### 🔧 技术改进
- 优化了resources目录的加载策略，不再递归添加所有子目录
- 移除了libDirs中重复的resources目录条目
- 在所有jar包添加完成后才添加resources目录，降低类加载冲突风险
- 保留了详细的类路径构建日志输出

### 📝 文档更新
- 完善了启动问题排查说明
- 添加了类加载冲突的解决方案

## [1.0.3] - 2025-08-31

### ✨ 新增功能
- **NC Home配置管理**
  - 新增 NC Home 路径配置功能
  - 支持 Home 目录选择和验证
  - 集成 SysConfig 工具启动
  - 数据源配置和管理（基础版）
  - 支持多种数据库类型（MySQL、Oracle、SQL Server等）
  - 高级配置选项（标准模式、异步任务等）

- **命令快捷访问**
  - 新增 `yonbip.nchome.config` 命令
  - 集成到项目管理菜单中
  - 支持快速配置对话框

- **配置持久化**
  - 全局配置存储支持
  - 工作区配置同步
  - JSON 格式配置文件

### 🔧 技术改进
- 新增 TypeScript 类型定义
- 模块化服务架构
- 优化错误处理机制
- 扩展命令系统

### 📝 文档更新
- 完善 NC Home 配置说明
- 新增功能使用指南

## [1.0.2] - 2025-08-31

### 🔄 重新发布
- 重新编译和打包扩展
- 确保所有依赖项正确包含
- 优化扩展启动性能
- 修复可能的缓存问题

### 🛠️ 技术优化
- 更新了构建脚本
- 优化了资源文件包含策略
- 改进了错误处理机制
- 提升了整体稳定性

## [1.0.1] - 2025-08-31

### 🔧 改进优化
- 修复了扩展分类问题，改善市场搜索体验
- 优化了扩展描述和关键词
- 提升了扩展在 VS Code Marketplace 中的可见性
- 修复了部分命令注册问题

### 📝 文档更新
- 更新了 README 文档
- 完善了安装和使用说明
- 添加了故障排除指南

## [1.0.0] - 2024-08-31

### 🎉 首次发布

#### ✨ 新增功能
- **MCP智能服务集成**
  - 内置yonyou-mcp.jar文件（23.87MB），开箱即用
  - 一键启动/停止MCP服务
  - 智能端口管理和冲突解决
  - 实时服务状态监控
  - 详细的错误诊断和自动修复

- **OpenAPI测试工具**
  - 集成的API测试界面
  - 支持GET、POST、PUT、DELETE、PATCH等HTTP方法
  - 请求/响应历史记录
  - 多种认证方式支持
  - JSON/XML响应格式化显示

- **多语言抽取工具**
  - 自动识别Java、JavaScript、TypeScript、XML文件中的多语言文本
  - 智能文本过滤和清理
  - 批量处理支持
  - 多语言资源文件生成

- **项目管理工具**
  - 快速创建YonBIP高级版项目
  - 标准项目结构生成
  - 补丁包导出功能
  - 内置代码模板

- **数据库连接管理**
  - 支持MySQL、Oracle、SQL Server、PostgreSQL、SQLite
  - 可视化连接配置
  - 连接状态监控
  - 一键连接测试

#### 🔧 技术特性
- **智能错误处理**
  - 退出码143专项诊断
  - 自动重试机制
  - 端口自动切换
  - 详细的故障排除指南

- **用户体验优化**
  - 完全中文化界面
  - 友好的错误提示
  - 丰富的快捷操作
  - 详细的操作日志

- **系统集成**
  - 状态栏集成
  - 命令面板支持
  - 右键菜单扩展
  - 侧边栏工具面板

#### 🛠️ 环境要求
- VSCode 1.74.0+
- Java JDK 8+
- 内存建议4GB+
- 磁盘空间50MB+

#### 📋 已知问题
- macOS上首次启动可能需要额外的Java权限确认
- Windows防火墙可能会阻止Java网络访问，需要手动允许

#### 🎯 未来计划
- [ ] 增加更多API测试功能（GraphQL支持）
- [ ] 扩展数据库操作功能
- [ ] 添加代码生成器
- [ ] 支持更多编程语言的多语言抽取
- [ ] 集成Git工作流工具

---

### 🔄 版本说明

#### 版本号规则
- **主版本号**: 重大功能更新或架构变更
- **次版本号**: 新功能添加
- **修订版本号**: 错误修复和小改进

#### 发布频率
- **主版本**: 每季度发布
- **次版本**: 每月发布
- **修订版本**: 根据需要发布

---

### 📞 反馈和支持

如果您在使用过程中遇到任何问题或有功能建议，请通过以下方式联系我们：

- **邮件支持**: zhangchck@yonyou.com

感谢您使用YonBIP高级版开发者工具！