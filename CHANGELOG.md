# 更新日志

## [2.1.14] - 2025-12-09
### ✨  修改功能
- **问题修复**
  - 修改MAC HOME 目录转换自动生成sysConfig.sh的问题
  - 修改细微问题

## [2.1.13] - 2025-12-06
### ✨  修改功能
- **问题修复**
  - 去掉文件装饰的功能
  - 初始化的项目动态加入图标主题
  - 选择YonBIP Premium 服务启动目录的递归深度改为2层

## [2.1.12] - 2025-12-01
### ✨  修改功能
- **问题修复**
  - 选择启动模块项目时给出进度条
  - 优化导出补丁的逻辑

## [2.1.11] - 2025-11-28
### ✨  修改功能
- **问题修复**
  - 当服务没有启动的时候不显示快捷停用服务的按钮，当服务启动时才显示
  - 优化细微问题

## [2.1.10] - 2025-11-28
### ✨  修改功能
- **问题修复**
  - 修复选择文件时YonBIP文件操作没显示的问题
  - 增加新装插件后自动卸载旧版插件的功能

## [2.1.9] - 2025-11-27
### ✨  修改功能
- **问题修复**
  - 数据源界面给出oracle连接的安装方案
  - 新增启动服务控制台打印启动的模块

## [2.1.8] - 2025-11-26
### ✨  修改功能
- **问题修复**
  - 修改MCP服务链接失败问题
  - 优化再次初始化后参数java.jdt.ls.java.home被替换的问题

## [2.1.7] - 2025-11-26
### ✨  修改功能
- **新增功能**
  - 创建项目的提示框改为自定义的弹窗清晰的提醒用户
  - 支持选择启动模块在控制拦或者编辑界面快速启动项目
- **问题修复**
  - 完善了初始化项目时自动寻找JDK21的逻辑

## [2.1.6] - 2025-11-25
### ✨ 修改功能
- **问题修复**
  - 数据库管理界面增加数据库类型版本配置
  - 完善HOME选择悬浮提示信息
  - 选择HOME后不更新prop.xml中的jvm参数信息，跟开发工具启动无关
  - 重构新增数据源界面布局
  - 优化样式

## [2.1.5] - 2025-11-21
### ✨ 修改功能
- **问题修复**
  - 完善设置design数据源多次,界面别名丢失问题

## [2.1.4] - 2025-11-20
### ✨ 修改功能
- **问题修复**
  - 设置为Design数据源增加防抖机制
  - 打开快捷启动服务和停止服务的功能

## [2.1.3] - 2025-11-20
### ✨ 修改功能
- **问题修复**
  - 完善低配置电脑长classpath启动环境的问题

## [2.1.2] - 2025-11-19

### ✨ 修改功能
- **问题修复**
  - 增加setting文件中的java.jdt.ls.java.home属性
  - 增加数据源别名属性

## [2.1.1] - 2025-11-18

### ✨ 修改功能
- **问题修复**
  - PLSQL数据库启动后界面显示连接不上的问题
  - 设置design数据源，其他数据源消失的问题

## [2.1.0] - 2025-11-16

### ✨ 修改功能
- **界面功能增强**
  - 修复包扫描缺失问题
  - 修复细微问题

## [2.0.9] - 2025-11-15

### ✨ 修改功能
- **界面功能增强**
  - 更新端口默认值问题

## [2.0.8] - 2025-11-15

### ✨ 修改功能
- **界面功能增强**
  - 更新数据源名称问题

## [2.0.7] - 2025-11-15

### ✨ 修改功能
- **界面功能增强**
  - 优化图标
  - 修改导出脚本跳转界面问题

## [2.0.6] - 2025-11-15

### ✨ 修改功能
- **界面功能增强**
  - 更新图标库

## [2.0.5] - 2025-11-14

### ✨ 修改功能
- **界面功能增强**
  - 完善交互问题

## [2.0.4] - 2025-11-13

### ✨ 修改功能
- **界面功能增强**
  - 适配高级版项目专属图标
  - 优化图标显示逻辑

## [2.0.3] - 2025-11-11

### ✨ 修改功能
- **界面功能增强**
  - 优化数据库类型切换后自动改变默认值

## [2.0.2] - 2025-11-10

### ✨ 修改功能
- **界面功能增强**
  - 更新MCP服务，适配SQL Server数据库
  - 优化导出补丁界面

## [2.0.1] - 2025-11-06

### ✨ 修改功能
- **界面功能增强**
  - 打开插件的时候自动展开HOME配置界面

## [2.0.0] - 2025-11-06

### ✨ 修改功能
- **界面功能增强**
  - 界面改版，从webview改为tree视图，提升用户体验和交互效率
  - 适配不同数据库的连接问题

## [1.2.4] - 2025-11-05

### ✨ 修改功能
- **界面功能增强**
  - 优化导出补丁名称
  - 优化初始化项目创建 .vscode问题

## [1.2.3] - 2025-10-30

### ✨ 修改功能
- **界面功能增强**
  - 优化MCP服务界面

## [1.2.2] - 2025-10-30

### ✨ 修改功能
- **界面功能增强**
  - 优化导出脚本显示数据源交互

## [1.2.1] - 2025-10-28

### ✨ 新增功能
- **界面功能增强**
  - 修改工具栏启动图标，提升视觉一致性
  - 增加一键打开home日志目录功能，便于快速访问日志文件

## [1.2.0] - 2025-10-27

### ✨ 新增功能
- **导出脚本功能增强**
  - 增加导出脚本适配tables映射子表的功能
  - 支持基于XML配置的表结构关系解析
  - 实现复杂表关联的数据导出能力
  - 优化数据导出时的主键/外键识别机制

### 🔧 技术改进
- **界面重构**
  - 重构导出脚本界面，提升用户体验
  - 优化界面布局和交互设计
  - 改进表单控件的视觉效果和响应性

- **内部逻辑优化**
  - 优化导出脚本核心处理逻辑
  - 改进表结构解析算法性能
  - 增强错误处理机制和异常捕获
  - 提升数据处理效率和稳定性

## [1.1.11] - 2025-10-27

### ✨ 新增功能
- **复制资源配置优化**
  - 改进复制资源到HOME功能，支持递归查找子目录中的META-INF目录（最多5层）
  - 优化模块名称解析逻辑，支持向上和向下递归查找module.xml文件
  - 增强yyconfig目录查找功能，支持递归搜索项目中的yyconfig目录
  - 改进复制进度提示和结果反馈，提供更详细的目标路径和复制文件信息

## [1.1.10] - 2025-10-27

### ✨ 新增功能
- **OpenAPI界面优化**
  - 优化表单控件的内边距和最小高度设置，提升视觉效果
  - 添加双列布局样式，改善表单在宽屏上的显示效果
  - 增加响应式设计支持，当屏幕宽度小于768px时自动切换为单列布局
  - 优化Home版本切换选项的文本描述，使其更加清晰易懂

### 🔧 技术改进
- **界面样式优化**
  - 调整OpenAPI配置界面的表单布局，使用双列布局提升空间利用率
  - 优化输入框和选择框的样式细节，提供更好的用户体验

## [1.1.9] - 2025-10-25

### 🐛 错误修复
- 修复OpenAPI配置界面中alert()函数在WebView沙箱环境中被阻止的问题
- 将WebView中所有alert()和confirm()调用替换为通过VS Code API显示消息的正确方式
- 添加了对删除配置确认对话框的支持

## [1.1.8] - 2025-10-25

### ✨ 新增功能
- **OpenAPI界面优化**
  - 重新设计OpenAPI配置界面，采用卡片式布局提升用户体验
  - 优化表单布局，使用响应式设计适配不同屏幕尺寸
  - 添加表单动画效果，提升界面交互体验
  - 改进Home版本切换组件，使用现代化的切换开关设计

- **OpenAPI功能增强**
  - 增强表单验证机制，提供更友好的错误提示
  - 优化配置管理功能，支持配置的快速删除操作
  - 改进请求测试面板，提供更清晰的界面布局
  - 添加性能监控功能，便于调试和优化

### 🔧 技术改进
- **界面样式优化**
  - 重构OpenAPI界面CSS样式，使用现代化设计语言
  - 添加主题兼容性测试，确保在不同VS Code主题下正常显示
  - 优化加载动画效果，提升用户感知体验
  - 改进响应式布局，适配不同分辨率屏幕

- **代码结构优化**
  - 重构OpenAPI提供者代码，提高代码可维护性
  - 优化事件监听器初始化逻辑
  - 改进表单数据处理流程

### 🐛 错误修复
- 修复OpenAPI配置界面中alert()函数在WebView沙箱环境中被阻止的问题
- 将WebView中的alert()调用替换为通过VS Code API显示消息的正确方式

## [1.1.7] - 2025-10-22

### 🔄 重新发布
- 重新编译和打包扩展
- 确保所有依赖项正确包含
- 优化扩展启动性能
- 修复可能的缓存问题

### 🔧 技术改进
- 更新MCP服务

## [1.1.6] - 2025-10-21

### 🔧 技术改进
- 优化脚本导出的交互及界面
- 更新MCP服务

## [1.1.5] - 2025-10-21

### 🐛 错误修复
- 修改MCP服务问题


## [1.1.4] - 2025-10-20

### 🐛 错误修复
- 修复单根工作区环境下插件功能异常的问题

### 🔧 技术改进
- 更新界面优化

## [1.1.3] - 2025-10-20

### ✨ 新增功能
- **导出补丁功能优化**
  - 简化补丁导出配置界面，移除"补丁类型"、"目标版本"、"基础版本"和"包含文件类型"等复杂配置项
  - 优化补丁导出流程，仅保留核心导出能力，提升用户体验
  - 支持右键单个Java文件导出补丁（此前仅支持文件夹）
  - 导出补丁时自动解析Java文件对应的class文件路径，根据项目根目录下的.classpath文件中<output>配置项指定的输出路径进行解析

- **补丁管理功能增强**
  - 新增多模块工程创建功能，支持在YonBIP项目管理右键菜单中创建多模块项目
  - 优化补丁应用和取消功能，支持对选中的文件或目录进行一键补丁操作

### 🔧 技术改进
- **界面优化**
  - 优化右键菜单触发条件，支持在选择单个文件或文件夹时均显示相关命令
  - 改进YonBIP项目管理菜单显示顺序，按功能重要性重新排列命令位置

- **路径解析优化**
  - 优化Java项目编译后class文件路径解析逻辑，不再简单通过替换.java后缀为.class来确定
  - 增强对不同项目结构的兼容性，支持src/public、src/private、src/client等多种源码目录结构

- **依赖管理**
  - 添加adm-zip库依赖，用于生成ZIP格式的补丁文件

### 🐛 错误修复
- 修复了补丁导出时编译文件路径计算不准确的问题
- 修复了右键菜单在某些情况下显示不正确的问题

## [1.1.2] - 2025-10-19

### ✨ 新增功能
- **MCP界面优化**
  - 改进MCP服务管理界面交互体验
  - 优化MCP服务状态显示逻辑

- **预置脚本导出界面优化**
  - 改进预置脚本导出界面布局
  - 优化用户操作流程

### 🔧 技术改进
- **NC HOME配置界面优化**
  - 修复界面显示问题
  - 改进模块配置管理功能
  - 添加模块搜索支持功能

- **逻辑优化**
  - 优化内部服务调用逻辑
  - 改进配置加载机制

## [1.1.1] - 2025-10-17

### ✨ 新增功能
- **一键打补丁功能**
  - 新增 `🩹 打补丁到HOME` 右键菜单命令
  - 新增 `↩️ 从HOME取消补丁` 右键菜单命令
  - 支持对补丁文件进行一键部署和撤销操作
  - 自动处理补丁文件中的 replacement 目录结构

- **模块选择功能**
  - 新增NC HOME模块配置管理功能
  - 支持在NC HOME配置界面中选择需要加载的模块
  - 提供模块配置的保存和加载机制
  - 支持必选模块的自动勾选和保护
  - 优化了模块类路径的加载逻辑，仅加载用户选择的模块

- **MCP服务数据源信息显示**
  - MCP服务启动后自动显示design数据源连接信息
  - 支持多种数据库类型（MySQL、Oracle、SQL Server、PostgreSQL等）
  - 自动从NC HOME配置中读取design数据源信息

### 🔧 技术改进
- **界面样式优化**
  - 优化了YonBIP项目管理菜单显示名称为"YonBIP项目管理（高级版）"
  - 改进了补丁导出界面的按钮布局和样式
  - 优化了补丁导出界面的底部按钮固定显示效果

- **端口占用检测优化**
  - 改进了端口占用检测逻辑，提高检测准确性
  - 优化了端口冲突处理机制

- **数据源信息注入**
  - MCP服务启动时自动注入design数据源配置
  - 支持从NC HOME配置文件中读取数据源信息
  - 自动生成对应数据库类型的JDBC URL和驱动类

### 🐛 错误修复
- 修复了端口占用检测逻辑，提高检测准确性
- 修复了webapps目录重复加载的问题
- 修复了模块路径加载不准确的问题

## [1.1.0] - 2025-10-15

### ✨ 新增功能
- **模块选择功能**
  - 新增NC HOME模块配置管理功能
  - 支持在NC HOME配置界面中选择需要加载的模块
  - 提供模块配置的保存和加载机制
  - 支持必选模块的自动勾选和保护

### 🔧 技术改进
- **类路径优化**
  - 优化了模块类路径的加载逻辑，仅加载用户选择的模块
  - 改进了模块lib目录和classes目录的扫描机制
  - 增强了模块配置的持久化存储功能

### 🐛 错误修复
- 修复了webapps目录重复加载的问题
- 修复了模块路径加载不准确的问题

## [1.0.14] - 2025-10-15

### ✨ 新增功能
- **复制资源文件到HOME功能**
  - 新增 `📁 → 🏠 复制配置文件到HOME` 右键菜单命令
  - 支持将项目配置文件复制到NC HOME目录
  - 提供直观的文件复制进度和结果反馈

- **自动访问HOTWEBS资源功能**
  - 新增 `🌐 自动访问HOTWEBS资源` 右键菜单命令
  - 自动配置脚手架项目的webpack.dev.config.js文件
  - 支持将资源访问路径指向NC HOME的hotwebs目录

### 🔧 技术改进
- **界面样式优化**
  - 优化了YonBIP项目管理菜单显示名称为"YonBIP项目管理（高级版）"
  - 改进了补丁导出界面的按钮布局和样式
  - 优化了补丁导出界面的底部按钮固定显示效果

- **补丁导出功能优化**
  - 优化了导出补丁时的提示信息显示
  - 增强了编译文件未找到时的错误提示，提供详细的解决方案
  - 改进了补丁导出过程中的加载状态显示

### 🐛 错误修复
- 修复了补丁导出时编译文件路径计算不准确的问题
- 修复了界面消息显示不一致的问题

## [1.0.12] - 2025-10-15

### 🔄 重新发布
- 重新编译和打包扩展
- 确保所有依赖项正确包含
- 优化扩展启动性能
- 修复可能的缓存问题

### 🛠️ 技术优化
- 更新了构建脚本
- 优化了资源文件包含策略
- 改进了错误处理机制
- 提升了整体稳定性

## [1.0.11] - 2025-10-15

### ✨ 新增功能
- **数据库连接进度条**
  - 在测试数据库连接时显示进度条提示
  - 提供更直观的连接状态反馈

### 🔧 技术改进
- **多根工作区适配**
  - 优化了在多根工作区环境下的配置管理
  - 改进了跨平台的VS Code用户设置路径处理
  - 增强了配置文件生成的兼容性

- **Windows解密功能适配**
  - 优化了Windows平台下的密码解密功能
  - 统一处理不同操作系统的换行符问题
  - 改进了密码加解密结果的解析逻辑

### 🐛 错误修复
- 修复了Windows平台上密码解密结果解析不正确的问题

## [1.0.8] - 2025-10-14

### ✨ 新增功能
- **创建模块项目后自动创建业务组件**
  - 在模块项目创建完成后，自动提示用户是否创建业务组件
  - 支持一键创建业务组件，提升开发效率

### 🔧 技术改进
- **自动访问HOTWEBS资源功能**
  - 新增自动访问HOTWEBS资源的右键菜单命令
  - 支持自动配置脚手架项目的资源访问路径

## [1.0.6] - 2025-10-04

### ✨ 新增功能
- **一键添加源码路径功能**
  - 新增 `📜 全部加入源码路径` 右键菜单命令
  - 自动扫描项目中的 src/client、src/public、src/private 目录
  - 自动将找到的源码路径添加到 .classpath 文件中
  - 避免重复添加已存在的源码路径

### 🔧 技术改进
- **工作区图标优化**
  - 优化了已初始化YonBIP项目的目录图标显示
  - 使用更稳定的装饰器配置，避免与VS Code问题检测冲突
  - 改进了图标刷新机制，提高显示稳定性
  - 增强了装饰器提供者的初始化和清理逻辑

- **补丁导出优化**
  - 改进了项目编译检查逻辑，支持递归查找所有包含src目录的子项目
  - 优化了编译后class文件路径的获取逻辑
  - 提升了补丁导出时文件路径处理的准确性

### 🐛 错误修复
- 修复了项目装饰器在某些情况下显示不正确的问题
- 修复了补丁导出时class文件路径计算不准确的问题
- 修复了装饰器提供者在扩展关闭时的资源清理问题

## [1.0.5] - 2025-09-22

### ✨ 新增功能
- **调试端口可配置化**
  - 新增调试端口配置选项，支持自定义JDWP调试端口
  - 在NC Home配置界面的高级设置中添加调试模式和调试端口配置
  - 支持通过VS Code设置`yonbip.home.debugPort`配置调试端口
  - 默认调试端口保持为8888，用户可根据需要自定义
  - VS Code调试器连接端口与Java应用监听端口保持一致

### 🔧 技术改进
- 优化了调试配置的生成逻辑，确保端口配置的一致性
- 改进了配置加载机制，确保缺失字段能使用默认值
- 增强了配置合并逻辑，避免因配置文件不完整导致功能异常

### 📝 文档更新
- 更新了调试配置相关说明
- 完善了配置管理文档

## [1.0.4] - 2025-09-16

### 🐛 错误修复
- **HOME服务启动优化**
  - 修复了resources/conf目录未被正确添加到类路径的问题
  - 确保登录时能正确加载resources/conf下的配置文件
  - 与IDEA插件保持一致的类路径构建策略
  - 采用保守策略，仅添加必要的resources和conf目录，避免类加载冲突
  - 在jar包加载完成后添加resources目录，确保类加载顺序正确

### 🔧 技术改进
- 优化了resources目录的加载策略，不再递归添加所有子目录
- 移除了libDirs中重复的resources目录条目
- 在所有jar包添加完成后才添加resources目录，降低类加载冲突风险
- 保留了详细的类路径构建日志输出

### 📝 文档更新
- 完善了启动问题排查说明
- 添加了类加载冲突的解决方案

## [1.0.3] - 2025-08-31

### ✨ 新增功能
- **NC Home配置管理**
  - 新增 NC Home 路径配置功能
  - 支持 Home 目录选择和验证
  - 集成 SysConfig 工具启动
  - 数据源配置和管理（基础版）
  - 支持多种数据库类型（MySQL、Oracle、SQL Server等）
  - 高级配置选项（标准模式、异步任务等）

- **命令快捷访问**
  - 新增 `yonbip.nchome.config` 命令
  - 集成到项目管理菜单中
  - 支持快速配置对话框

- **配置持久化**
  - 全局配置存储支持
  - 工作区配置同步
  - JSON 格式配置文件

### 🔧 技术改进
- 新增 TypeScript 类型定义
- 模块化服务架构
- 优化错误处理机制
- 扩展命令系统

### 📝 文档更新
- 完善 NC Home 配置说明
- 新增功能使用指南

## [1.0.2] - 2025-08-31

### 🔄 重新发布
- 重新编译和打包扩展
- 确保所有依赖项正确包含
- 优化扩展启动性能
- 修复可能的缓存问题

### 🛠️ 技术优化
- 更新了构建脚本
- 优化了资源文件包含策略
- 改进了错误处理机制
- 提升了整体稳定性

## [1.0.1] - 2025-08-31

### 🔧 改进优化
- 修复了扩展分类问题，改善市场搜索体验
- 优化了扩展描述和关键词
- 提升了扩展在 VS Code Marketplace 中的可见性
- 修复了部分命令注册问题

### 📝 文档更新
- 更新了 README 文档
- 完善了安装和使用说明
- 添加了故障排除指南

## [1.0.0] - 2024-08-31

### 🎉 首次发布

#### ✨ 新增功能
- **MCP智能服务集成**
  - 内置yonyou-mcp.jar文件（23.87MB），开箱即用
  - 一键启动/停止MCP服务
  - 智能端口管理和冲突解决
  - 实时服务状态监控
  - 详细的错误诊断和自动修复

- **OpenAPI测试工具**
  - 集成的API测试界面
  - 支持GET、POST、PUT、DELETE、PATCH等HTTP方法
  - 请求/响应历史记录
  - 多种认证方式支持
  - JSON/XML响应格式化显示

- **多语言抽取工具**
  - 自动识别Java、JavaScript、TypeScript、XML文件中的多语言文本
  - 智能文本过滤和清理
  - 批量处理支持
  - 多语言资源文件生成

- **项目管理工具**
  - 快速创建YonBIP高级版项目
  - 标准项目结构生成
  - 补丁包导出功能
  - 内置代码模板

- **数据库连接管理**
  - 支持MySQL、Oracle、SQL Server、PostgreSQL、SQLite
  - 可视化连接配置
  - 连接状态监控
  - 一键连接测试

#### 🔧 技术特性
- **智能错误处理**
  - 退出码143专项诊断
  - 自动重试机制
  - 端口自动切换
  - 详细的故障排除指南

- **用户体验优化**
  - 完全中文化界面
  - 友好的错误提示
  - 丰富的快捷操作
  - 详细的操作日志

- **系统集成**
  - 状态栏集成
  - 命令面板支持
  - 右键菜单扩展
  - 侧边栏工具面板

#### 🛠️ 环境要求
- VSCode 1.74.0+
- Java JDK 8+
- 内存建议4GB+
- 磁盘空间50MB+

#### 📋 已知问题
- macOS上首次启动可能需要额外的Java权限确认
- Windows防火墙可能会阻止Java网络访问，需要手动允许

#### 🎯 未来计划
- [ ] 增加更多API测试功能（GraphQL支持）
- [ ] 扩展数据库操作功能
- [ ] 添加代码生成器
- [ ] 支持更多编程语言的多语言抽取
- [ ] 集成Git工作流工具

---

### 🔄 版本说明

#### 版本号规则
- **主版本号**: 重大功能更新或架构变更
- **次版本号**: 新功能添加
- **修订版本号**: 错误修复和小改进

#### 发布频率
- **主版本**: 根据需要发布
- **次版本**: 根据需要发布
- **修订版本**: 根据需要发布

---

### 📞 反馈和支持

如果您在使用过程中遇到任何问题或有功能建议，请通过以下方式联系我们：

- **邮件支持**: zhangchck@yonyou.com

感谢您使用YonBIP高级版开发者工具！